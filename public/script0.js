!function(){"use strict";(t=>{const{screen:{width:e,height:n},navigator:{language:a},location:i,document:o}=t,{hostname:r,href:c}=i,{currentScript:s,referrer:d}=o;if(!s)return;const u="data-",f=s.getAttribute.bind(s),p=f(u+"website-id"),h=f(u+"host-url"),l=f(u+"tag"),g=`${(h||""||s.src.split("/").slice(0,-1).join("/")).replace(/\/$/,"")}/api/send`,y=`${e}x${n}`,b=t=>{if(t)return encodeURI(t)},m=()=>({website:p,hostname:r,screen:y,language:a,title:"",url:b($),referrer:b(x),tag:l||void 0}),w=async(t,e="event")=>{const n={"Content-Type":"application/json"};void 0!==v&&(n["x-umamistats-cache"]=v);try{const a=await fetch(g,{method:"POST",body:JSON.stringify({type:e,payload:t}),headers:n}),i=await a.text();return v=i}catch(t){}};let v,j,$=c,x=d!==r?d:"";j||(((t,e)=>w("string"==typeof t?{...m(),name:t,data:"object"==typeof e?e:void 0}:"object"==typeof t?t:"function"==typeof t?t(m()):m()))(),j=!0)})(window)}();
